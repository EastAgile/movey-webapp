{% extends "search/layout.html" %}

{% block content %}
<div class="content-wrapper">
    <div class="setting-bar">
        <p>{{ package_count }} results <a>for '{{ query }}'</a></p>
        <div class="package-search-sort">
            <label for="packages-sort">Sort by</label>
            <select name="packages-sort" 
                    class="packages-sort"
                    data-sort="{{ sort_type }}"
                    data-url="/packages/search/?query={{ query }}"
            >
                <option value="name">Name</option>
                <option value="description">Description</option>
                <option value="summary">Summary</option>
                <option value="most_downloads">Most Downloads</option>
                <option value="newly_added">Newly added</option>
            </select>
            <div class="packages-sort-chevron"></div>
        </div>
    </div>

    <div class="package-list">
        {% for package in packages %}
            <div class="package-list-item">
                <div class="left-wrapper">
                    <div class="package-list-item-title">
                        <h1>{{ package.name }} &nbsp;<span class="version-number">5.45.1</span></h1>
                        <div class="title-tag">
                            First tag
                        </div>
                    </div>
                    <div class="sub-tag-list">
                        <div class="sub-tag">Normal Tag</div>
                        <div class="sub-tag">Normal Tag</div>
                    </div>
                    <div class="package-summary">
                        {{ package.description }}
                    </div>
                </div>
                <div class="right-wrapper">
                    <p data-last-update="{{ package.updated_at }}">
                        <img
                            onload="displayUpdateTime(this.parentElement)"
                            src="/static/resources/reload_icon.svg"
                        >
                        <span></span>
                    </p>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
<script>
    new Packages();
</script>
{% endblock %}
