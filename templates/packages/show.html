{% extends "packages/layout.html" %}

{% block package_content %}
<div class="package-detail-container">
    <div class="package-readme-content">{{ package_version.readme_content }}</div>
    <div class="package-sidebar">
        <div class="package-information">
            <div class="package-install">
                <div class="package-information-title">
                    Install
                </div>
                <div class="package-install-instruction">
                    {% if instruction_subdir %}
                    <span class="instruction-command">{{ package.name }} = { git = "{{ instruction_repo_url }}", rev = "{{ package_version.rev }}", subdir = "{{ instruction_subdir }}" }</span>
                    {% else %}
                    <span class="instruction-command">{{ package.name }} = { git = "{{ instruction_repo_url }}", rev = "{{ package_version.rev }}" }</span>
                    {% endif %}
                    <div class="copy-icon"></div>
                <p class="copy-tooltip">Copied</p>
                </div>
                <div class="package-information-title">
                    Repository
                </div>
                <div class="package-repo">
                    <div class="package-repo-icon"></div>
                    <div class="package-repo-url">
                        <a href="{{package.repository_url}}" target="_blank">{{ package.repository_url }}</a>
                    </div>
                </div>
                <div class="horizontal-line"></div>
            </div>
            <div class="package-metadata">
                <div class="package-information-title">
                    Repository summary
                </div>
                <div class="package-metadata-content">
                    <div class="package-metadata-title">
                        Version
                    </div>
                    <div class="package-metadata-value">
                        {{ package_version.version }}
                    </div>
                </div>
                <div class="package-metadata-content">
                    <div class="package-metadata-title">
                        License
                    </div>
                    <div class="package-metadata-value">
                        {{ package_version.license }}
                    </div>
                </div>
                <div class="package-metadata-content">
                    <div class="package-metadata-title">
                        Stars
                    </div>
                    <div class="package-metadata-value">
                        {{ package.stars_count }}
                    </div>
                </div>
                <div class="package-metadata-content">
                    <div class="package-metadata-title">
                        Forks
                    </div>
                    <div class="package-metadata-value">
                        {{ package.forks_count }}
                    </div>
                </div>

                {% if package_version.total_size > 0 %}
                <div class="package-metadata-content">
                    <div class="package-metadata-title">
                        Size
                    </div>
                    <div class="package-metadata-value package-size" data-value="{{package_version.total_size}}">
                    </div>
                </div>
                {% endif %}

                {% if package_version.total_files > 0 %}
                <div class="package-metadata-content">
                    <div class="package-metadata-title">
                        Total Files
                    </div>
                    <div class="package-metadata-value">
                        {{ package_version.total_files }}
                    </div>
                </div>
                {% endif %}

            </div>
            {% if account_name != "" %}
            <div class="horizontal-line"></div>
            <div class="package-owners">
                <div class="package-information-title">
                    Owners
                </div>
                <div class="package-owners-info"
                    onclick="window.open('{{ account_slug_url }}', '_blank');"
                >
                    {{account_name}}
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>
<script>
    $(document).ready(function() {
        new PackageShow();
    })
</script>
{% endblock %}
